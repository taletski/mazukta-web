(this["webpackJsonpmazukta-web"]=this["webpackJsonpmazukta-web"]||[]).push([[0],{43:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r,a,o,c,i,u,s,d,l,h,b,g,f,m,O,x=n(1),v=n.n(x),j=n(23),p=n.n(j),C=(n(43),n(13)),y=n.n(C),k=n(7),E=n(6),A={Container:E.b.div(r||(r=Object(k.a)(["\n    height: 100vh;\n    width: 100vw;\n    box-sizing: border-box;\n    padding-left: 30px;\n    padding-right: 30px;\n    background: linear-gradient(\n      to top,\n      "," 0%,\n      "," 100%\n    );\n  "])),(function(e){return e.theme.background.colors.gradientFrom}),(function(e){return e.theme.background.colors.gradientTo})),Content:E.b.main(a||(a=Object(k.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: stretch;\n    align-items: stretch;\n    height: 100%;\n    width: 100%;\n    max-width: 378px;\n    margin-left: auto;\n    margin-right: auto;\n  "]))),HeaderContainer:E.b.header(o||(o=Object(k.a)(["\n    flex: 0 0 40px;\n    margin-top: 16px;\n    margin-bottom: 22px;\n  "]))),CardsContainer:E.b.div(c||(c=Object(k.a)(["\n    flex: 1 1;\n    min-height: 0;\n  "]))),ButtonContainer:E.b.div(i||(i=Object(k.a)(["\n    flex: 0 0 35px;\n    margin-top: 16px;\n    margin-bottom: 16px;\n  "])))},w={MainHeader:E.b.h1(u||(u=Object(k.a)(["\n    font-size: 20px;\n    line-height: 28px;\n    font-weight: 500;\n    letter-spacing: 0.0015em;\n    color: ",";\n\n    width: 100%;\n    height: 100%;\n    text-align: center;\n  "])),(function(e){return e.theme.header.colors.text}))},F=n(3),T=function(e){var t=e.label;return Object(F.jsx)(w.MainHeader,{children:t})},_=v.a.memo(T,y.a),U=n(2),I=n(16),S={Button:E.b.button(s||(s=Object(k.a)(["\n    font-size: 14px;\n    line-height: 14.56px;\n    font-style: normal;\n    width: 100%;\n    height: 36px;\n    border-radius: 4px;\n\n    color: ",";\n    background-color: ",";\n\n    &:hover {\n      cursor: pointer;\n      color: ",";\n      background-color: ",";\n    }\n\n    &:focus {\n      outline: none;\n      color: ",";\n      background-color: ",";\n    }\n\n    &:active {\n      color: ",";\n      background-color: ",";\n    }\n  "])),(function(e){return e.theme.button.colors.label}),(function(e){return e.theme.button.colors.background}),(function(e){return e.theme.button.colors.labelHover}),(function(e){return e.theme.button.colors.backgroundHover}),(function(e){return e.theme.button.colors.labelFocus}),(function(e){return e.theme.button.colors.backgroundFocus}),(function(e){return e.theme.button.colors.labelActive}),(function(e){return e.theme.button.colors.backgroundActive}))},D=function(e){var t=e.label,n=Object(I.a)(e,["label"]);return Object(F.jsx)(S.Button,Object(U.a)(Object(U.a)({},n),{},{children:t}))},L=v.a.memo(D,y.a),q=n(30),N={Container:E.b.div(d||(d=Object(k.a)(["\n    display: flex;\n    flex-direction: column-reverse;\n    align-items: stretch;\n    height: 100%;\n    width: 100%;\n    overflow-y: hidden;\n    overflow-x: hidden;\n\n    & > div {\n      margin-top: 2px;\n      margin-bottom: 2px;\n    }\n  "])))},B={Card:E.b.div(l||(l=Object(k.a)(["\n    display: flex;\n    align-items: center;\n\n    width: 100%;\n    height: 76px;\n    border-radius: 8px;\n\n    color: ",";\n    background-color: ",";\n  "])),(function(e){return e.theme.card.colors.text}),(function(e){return e.theme.card.colors.background})),AvatarContainer:E.b.div(h||(h=Object(k.a)(["\n    flex: 0 0 auto;\n    margin-right: 16px;\n    margin-left: 16px;\n  "]))),TextContainer:E.b.div(b||(b=Object(k.a)(["\n    flex: 1 1 256px;\n    height: 100%;\n    box-sizing: border-box;\n  "]))),TextHeader:E.b.h6(g||(g=Object(k.a)(["\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 28px;\n    letter-spacing: 0.0015em;\n    margin-top: 16px;\n    margin-bottom: 0;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  "]))),TextMessage:E.b.p(f||(f=Object(k.a)(["\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 20px;\n    letter-spacing: 0.0025em;\n    margin-top: 0;\n    margin-right: 15px;\n    margin-bottom: 9px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  "])))},R={Avatar:E.b.div(m||(m=Object(k.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    font-size: 20px;\n    width: 40px;\n    height: 40px;\n    border-radius: 20px;\n\n    background: linear-gradient(\n      to bottom,\n      "," 0%,\n      "," 100%\n    );\n  "])),(function(e){var t=e.theme,n=e.category;return t.avatars[n].colors.gradientFrom}),(function(e){var t=e.theme,n=e.category;return t.avatars[n].colors.gradientTo})),AvatarContent:E.b.span(O||(O=Object(k.a)(["\n    display: block;\n  "])))},M=function(e){var t=e.category,n=e.content;return Object(F.jsx)(R.Avatar,{category:t,children:Object(F.jsx)(R.AvatarContent,{children:n||""})})},H=v.a.memo(M,y.a),Q=function(e){var t=e.cardCategory,n=e.avatarContent,r=e.header,a=e.message;return Object(F.jsxs)(B.Card,{children:[Object(F.jsx)(B.AvatarContainer,{children:Object(F.jsx)(H,{category:t,content:n})}),Object(F.jsxs)(B.TextContainer,{children:[Object(F.jsx)(B.TextHeader,{children:r}),Object(F.jsx)(B.TextMessage,{children:a})]})]})},z=v.a.memo(Q,y.a),P=function(e){switch(e){case"alive-cell":return{cardCategory:e,avatarContent:"\ud83d\udc23",header:"Alive",message:"And it moves!"};case"dead-cell":return{cardCategory:e,avatarContent:"\ud83d\udc80",header:"Dead",message:"Or pretends to be..."};case"life-occured":return{cardCategory:e,avatarContent:"\ud83d\udca5",header:"Life",message:"Hey!"};case"death-occured":return{cardCategory:e,avatarContent:"\ud83e\udd40",header:"Death",message:"Rest in peace"}}},G=function(e){var t=e.currentElements,n=Object.values(t),r=Object(q.useTransition)(n,{keys:function(e){return e.id},from:{opacity:.01,transform:"translate3d(200px,0,0)"},enter:{opacity:1,transform:"translate3d(0,0,0)"}});return Object(F.jsx)(N.Container,{children:r((function(e,t){return Object(F.jsx)(q.animated.div,{style:e,children:Object(F.jsx)(z,Object(U.a)({},P(t.category)))})}))})},J=v.a.memo(G,y.a),Y=n(15),K=n(9),V=n(14),W=n.n(V),X=n(17),Z=n(4),$=n(8),ee=function(){function e(t){Object(Z.a)(this,e),this.queue=[],this._capacity=0,this._capacity=t}return Object($.a)(e,[{key:"capacity",get:function(){return this._capacity}},{key:"enqueue",value:function(e){this.queue.unshift(e),this.queue.length>this.capacity&&(this.queue.length=this.capacity)}},{key:"getData",value:function(){return this.queue}}]),e}(),te=function(){function e(){Object(Z.a)(this,e),this.NUM_OF_LAST_ELEMENTS_NEEDED_FOR_OCCASION=3,this.CELLS_QUEUE_CAPACITY=this.NUM_OF_LAST_ELEMENTS_NEEDED_FOR_OCCASION+10,this.lastDateUsedToGenerateUniqueId=null,this.lifeCount=0,this.subscribersOnQueueUpdate=new Set,this.queueOfLife=new ee(this.CELLS_QUEUE_CAPACITY),this.createAddRandomElement=this.createAddRandomElement.bind(this)}return Object($.a)(e,[{key:"handleCreateAddRandomCell",value:function(){this.addToQueue(this.generateRandomCell());var e=this.getCategoryOfOccasionIfItNeedToOccure();e&&this.checkIfOccasionPossible(e)&&(this.addToQueue(this.generateOccasionByCategory(e)),this.handleLifeCount(e))}},{key:"addToQueue",value:function(e){this.queueOfLife.enqueue(e),this.notifySubscribersOnQueueUpdate()}},{key:"notifySubscribersOnQueueUpdate",value:function(){var e=this;this.subscribersOnQueueUpdate.forEach((function(t){return t(Object(Y.a)(e.queueOfLife.getData()))}))}},{key:"generateRandomCell",value:function(){var e=Math.random()<.5?"alive-cell":"dead-cell";return this.generateCellByCategory(e)}},{key:"getCategoryOfOccasionIfItNeedToOccure",value:function(){var e=this.queueOfLife.getData();if(!(e.length<this.NUM_OF_LAST_ELEMENTS_NEEDED_FOR_OCCASION||"occasion"===e[0].type)){var t=this.queueOfLife.getData().slice(0,this.NUM_OF_LAST_ELEMENTS_NEEDED_FOR_OCCASION),n=e[0].category;return t.every((function(e){return e.category===n}))?this.getOccasionCategoryByCellCategory(n):void 0}}},{key:"generateUniqueId",value:function(){var e=Date.now(),t=this.lastDateUsedToGenerateUniqueId||e;return this.lastDateUsedToGenerateUniqueId=e>t?e:t+1,(this.lastDateUsedToGenerateUniqueId+Math.random()).toString(32)}},{key:"generateCellByCategory",value:function(e){return{type:"cell",id:this.generateUniqueId(),category:e}}},{key:"generateOccasionByCategory",value:function(e){return{type:"occasion",id:this.generateUniqueId(),category:e}}},{key:"getOccasionCategoryByCellCategory",value:function(e){switch(e){case"alive-cell":return"life-occured";case"dead-cell":return"death-occured"}}},{key:"checkIfOccasionPossible",value:function(e){switch(e){case"life-occured":return!0;case"death-occured":return this.lifeCount>0}}},{key:"handleLifeCount",value:function(e){switch(e){case"life-occured":this.lifeCount++;break;case"death-occured":this.lifeCount--}}},{key:"creations",get:function(){return this.queueOfLife.getData()}},{key:"createAddRandomElement",value:function(){var e=Object(X.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.handleCreateAddRandomCell();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"subscribeOnUpdates",value:function(e){this.subscribersOnQueueUpdate.add(e)}},{key:"unsubscribeFromUpdates",value:function(e){this.subscribersOnQueueUpdate.delete(e)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();te.instance=null;var ne={currentCreatorState:null,createAddRandomElement:null},re=v.a.createContext(ne),ae=te.getInstance().createAddRandomElement,oe=function(e){var t=e.children,n=Object(x.useState)([]),r=Object(K.a)(n,2),a=r[0],o=r[1];return Object(x.useEffect)((function(){var e=function(e){o(Object(Y.a)(e))};return te.getInstance().subscribeOnUpdates(e),function(){te.getInstance().unsubscribeFromUpdates(e)}}),[]),Object(F.jsx)(re.Provider,{value:{currentCreatorState:a,createAddRandomElement:ae},children:t})},ce=function(){return Object(x.useContext)(re)},ie=function(){var e=ce().currentCreatorState;return e&&Object(F.jsx)(J,{currentElements:e})},ue=function(e){var t=e.handleCreateAddElement;return Object(F.jsx)(A.Container,{children:Object(F.jsxs)(A.Content,{children:[Object(F.jsx)(A.HeaderContainer,{children:Object(F.jsx)(_,{label:"Cells Playground"})}),Object(F.jsx)(A.CardsContainer,{children:Object(F.jsx)(ie,{})}),Object(F.jsx)(A.ButtonContainer,{children:Object(F.jsx)(L,{label:"Create",onClick:t})})]})})},se=v.a.memo(ue,y.a),de=function(){var e=ce().createAddRandomElement;return Object(F.jsx)(se,{handleCreateAddElement:e})},le=function(){return Object(F.jsx)(de,{})},he="#fff",be="#000",ge="#613B79",fe={background:{colors:{gradientFrom:be,gradientTo:"#310050"}},header:{colors:{text:he}},button:{colors:{background:"#5A3472",backgroundHover:ge,backgroundFocus:ge,backgroundActive:"#542865",label:he,labelHover:he,labelFocus:he,labelActive:he}},card:{colors:{background:he,text:be}},avatars:{"alive-cell":{colors:{gradientFrom:"#FFB800",gradientTo:"#FFF7B0"}},"dead-cell":{colors:{gradientFrom:"#0D658A",gradientTo:"#B0FFB4"}},"life-occured":{colors:{gradientFrom:"#AD00FF",gradientTo:"#FFB0E9"}},"death-occured":{colors:{gradientFrom:"#0F2027",gradientIntermediate:"#203A43",gradientTo:"#2C5364"}}}};p.a.render(Object(F.jsx)(v.a.StrictMode,{children:Object(F.jsx)(E.a,{theme:fe,children:Object(F.jsx)(oe,{children:Object(F.jsx)(le,{})})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.fbbb129e.chunk.js.map